<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kanban Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-1: #0f141b;
        --bg-2: #1a2030;
        --panel: rgba(255, 255, 255, 0.08);
        --panel-strong: rgba(255, 255, 255, 0.14);
        --text: #f4f6fb;
        --muted: #aab2c8;
        --accent: #44d7b6;
        --accent-2: #6ea8ff;
        --warning: #ffbf69;
        --shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
        --radius: 18px;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
        color: var(--text);
        background: radial-gradient(circle at top left, #1c2c4a, transparent 45%),
          radial-gradient(circle at 10% 30%, #1a433f, transparent 40%),
          linear-gradient(135deg, var(--bg-1), var(--bg-2));
        min-height: 100vh;
      }

      .app {
        max-width: 1200px;
        margin: 0 auto;
        padding: 32px 24px 48px;
      }

      header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        margin-bottom: 28px;
      }

      .title-block h1 {
        margin: 0 0 6px;
        font-size: clamp(1.8rem, 2vw + 1rem, 2.6rem);
        letter-spacing: -0.02em;
      }

      .title-block p {
        margin: 0;
        color: var(--muted);
      }

      .form-card {
        background: var(--panel);
        padding: 18px 20px;
        border-radius: var(--radius);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: var(--shadow);
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        min-width: min(520px, 100%);
      }

      .form-card input,
      .form-card textarea {
        flex: 1 1 160px;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.15);
        background: rgba(7, 10, 20, 0.6);
        color: var(--text);
        font-size: 0.95rem;
      }

      .form-card textarea {
        min-height: 44px;
        resize: vertical;
      }

      .form-card button {
        background: linear-gradient(120deg, var(--accent), var(--accent-2));
        color: #061018;
        border: none;
        font-weight: 600;
        padding: 10px 18px;
        border-radius: 12px;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .form-card button:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 24px rgba(68, 215, 182, 0.25);
      }

      .board {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 18px;
      }

      .column {
        background: var(--panel);
        border-radius: var(--radius);
        padding: 16px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        display: flex;
        flex-direction: column;
        min-height: 420px;
        backdrop-filter: blur(8px);
      }

      .column header {
        margin-bottom: 12px;
      }

      .column-title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 6px;
      }

      .column h2 {
        font-size: 1.1rem;
        margin: 0;
      }

      .count {
        font-size: 0.85rem;
        color: var(--muted);
        background: rgba(255, 255, 255, 0.08);
        padding: 4px 10px;
        border-radius: 999px;
      }

      .column-hint {
        font-size: 0.85rem;
        color: var(--muted);
        margin: 0 0 8px;
      }

      .card-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
        flex: 1;
      }

      .card {
        background: rgba(8, 12, 22, 0.85);
        border-radius: 14px;
        padding: 14px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 12px 20px rgba(0, 0, 0, 0.25);
        cursor: grab;
        transition: transform 0.2s ease, border 0.2s ease;
      }

      .card:active {
        cursor: grabbing;
      }

      .card:hover {
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.2);
      }

      .card h3 {
        margin: 0 0 6px;
        font-size: 1rem;
      }

      .card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.9rem;
        line-height: 1.35;
      }

      .drag-over {
        outline: 2px dashed var(--accent);
        outline-offset: 4px;
      }

      @media (max-width: 720px) {
        header {
          flex-direction: column;
          align-items: stretch;
        }

        .form-card {
          min-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="app">
      <header>
        <div class="title-block">
          <h1>Kanban Dashboard</h1>
          <p>Drag tasks across the board and stay on top of your creative pipeline.</p>
        </div>
        <form class="form-card" id="taskForm">
          <input type="text" id="taskTitle" placeholder="Task title" required />
          <textarea id="taskDescription" placeholder="Short description" required></textarea>
          <button type="submit">Add Card</button>
        </form>
      </header>

      <section class="board" id="board">
        <div class="column" data-status="backlog">
          <div class="column-title">
            <h2>Backlog</h2>
            <span class="count" data-count="backlog">0</span>
          </div>
          <p class="column-hint">Ideas queued up</p>
          <div class="card-list" data-list="backlog"></div>
        </div>
        <div class="column" data-status="in-progress">
          <div class="column-title">
            <h2>In Progress</h2>
            <span class="count" data-count="in-progress">0</span>
          </div>
          <p class="column-hint">Active work</p>
          <div class="card-list" data-list="in-progress"></div>
        </div>
        <div class="column" data-status="review">
          <div class="column-title">
            <h2>Review</h2>
            <span class="count" data-count="review">0</span>
          </div>
          <p class="column-hint">Waiting on feedback</p>
          <div class="card-list" data-list="review"></div>
        </div>
        <div class="column" data-status="done">
          <div class="column-title">
            <h2>Done</h2>
            <span class="count" data-count="done">0</span>
          </div>
          <p class="column-hint">Ready to celebrate</p>
          <div class="card-list" data-list="done"></div>
        </div>
      </section>
    </div>

    <script>
      const STORAGE_KEY = "kanban-board-v1";

      const defaultTasks = [
        {
          id: crypto.randomUUID(),
          title: "LMTD video project",
          description: "Outline story beats, gather footage, and prep edit timeline.",
          status: "backlog",
        },
        {
          id: crypto.randomUUID(),
          title: "Paola portfolio site",
          description: "Finalize case studies and polish interaction details.",
          status: "in-progress",
        },
        {
          id: crypto.randomUUID(),
          title: "Remotion exploration",
          description: "Prototype dynamic lower-thirds and export presets.",
          status: "review",
        },
      ];

      const board = document.getElementById("board");
      const form = document.getElementById("taskForm");
      const titleInput = document.getElementById("taskTitle");
      const descInput = document.getElementById("taskDescription");

      const loadTasks = () => {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) {
          localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultTasks));
          return [...defaultTasks];
        }
        try {
          const parsed = JSON.parse(raw);
          return Array.isArray(parsed) ? parsed : [...defaultTasks];
        } catch (error) {
          return [...defaultTasks];
        }
      };

      const saveTasks = (tasks) => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
      };

      let tasks = loadTasks();

      const renderBoard = () => {
        document.querySelectorAll(".card-list").forEach((list) => (list.innerHTML = ""));
        const counts = { backlog: 0, "in-progress": 0, review: 0, done: 0 };

        tasks.forEach((task) => {
          counts[task.status] += 1;
          const list = document.querySelector(`[data-list="${task.status}"]`);
          if (!list) return;

          const card = document.createElement("article");
          card.className = "card";
          card.draggable = true;
          card.dataset.id = task.id;

          const title = document.createElement("h3");
          title.textContent = task.title;

          const desc = document.createElement("p");
          desc.textContent = task.description;

          card.append(title, desc);
          list.appendChild(card);
        });

        Object.entries(counts).forEach(([status, count]) => {
          const badge = document.querySelector(`[data-count="${status}"]`);
          if (badge) badge.textContent = count;
        });
      };

      const updateTaskStatus = (taskId, newStatus) => {
        tasks = tasks.map((task) =>
          task.id === taskId ? { ...task, status: newStatus } : task
        );
        saveTasks(tasks);
        renderBoard();
      };

      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const title = titleInput.value.trim();
        const description = descInput.value.trim();
        if (!title || !description) return;

        const newTask = {
          id: crypto.randomUUID(),
          title,
          description,
          status: "backlog",
        };

        tasks = [newTask, ...tasks];
        saveTasks(tasks);
        renderBoard();
        form.reset();
      });

      board.addEventListener("dragstart", (event) => {
        const card = event.target.closest(".card");
        if (!card) return;
        event.dataTransfer.setData("text/plain", card.dataset.id);
        event.dataTransfer.effectAllowed = "move";
      });

      board.addEventListener("dragover", (event) => {
        const column = event.target.closest(".column");
        if (!column) return;
        event.preventDefault();
        column.classList.add("drag-over");
      });

      board.addEventListener("dragleave", (event) => {
        const column = event.target.closest(".column");
        if (!column) return;
        column.classList.remove("drag-over");
      });

      board.addEventListener("drop", (event) => {
        const column = event.target.closest(".column");
        if (!column) return;
        event.preventDefault();
        const taskId = event.dataTransfer.getData("text/plain");
        if (!taskId) return;
        column.classList.remove("drag-over");
        const newStatus = column.dataset.status;
        updateTaskStatus(taskId, newStatus);
      });

      renderBoard();
    </script>
  </body>
</html>
